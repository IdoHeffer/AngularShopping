
module.exports = function(options) {

  // assume that store is a ready to go store instance
  if (typeof options.make === 'function')
    return options;

  var available = ['memory', 'encrypted'];

  // assume that store is a list of options
  if (~available.indexOf(options.type))
    return new (require('./' + options.type))(options);

  throw new Error('Invalid store provided');

};
